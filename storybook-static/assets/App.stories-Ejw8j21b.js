import{j as u}from"./jsx-runtime-BnIj46N_.js";import{r as m}from"./index-CsdIBAqE.js";import{F as y,I as x}from"./Field-B4S9uyLs.js";import{C as E}from"./CardPreview-dNYLp965.js";const O="_app_i4a0k_1",_={app:O};function b({setCardData:c}){const[a,p]=m.useState({first:"",second:"",third:"",fourth:""}),[t,n]=m.useState({first:!1,second:!1,third:!1,fourth:!1}),[l,s]=m.useState(""),I=r=>Number.isInteger(Number(r)),g=r=>r.length===4,C=r=>{const{name:i,value:e}=r.target;if(!I(e)){s("숫자만 입력 가능합니다."),n({...t,[i]:!0});return}s(""),n({...t,[i]:!1}),p({...a,[i]:e})},o=r=>{const{name:i,value:e}=r.target;if(c("cardNumbers",Object.values(a)),!g(e)){s("4자리 숫자를 입력해 주세요."),n({...t,[i]:!0});return}n({...t,[i]:!1}),s("")};return u.jsx(y,{title:"결제할 카드 번호를 입력해 주세요",description:"본인 명의의 카드만 결제 가능합니다.",labelText:"카드 번호",errMsg:l,children:Object.keys(a).map(r=>u.jsx(x,{name:r,placeholder:"1234",value:a[r],isError:t[r],handleChange:C,handleOnBlur:o,maxLength:4},r))})}b.__docgenInfo={description:"",methods:[],displayName:"CardNumberInput",props:{setCardData:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: keyof CardInfo, newData: CardInfo[keyof CardInfo]) => void",signature:{arguments:[{type:{name:"CardInfo"},name:"key"},{type:{name:"CardInfo[CardInfo]",raw:"CardInfo[keyof CardInfo]"},name:"newData"}],return:{name:"void"}}},description:""}}};const j=({setCardData:c})=>{const[a,p]=m.useState({month:"",year:""}),[t,n]=m.useState({month:!1,year:!1}),[l,s]=m.useState(""),I=e=>Number.isInteger(Number(e)),g=e=>e.length===2,C=e=>1<=Number(e)&&Number(e)<=12,o=()=>{const{year:e,month:d}=a;if(e==="")return!0;const f=new Date;return new Date(Number(e)+2e3,Number(d))>f},r=e=>{const{name:d,value:f}=e.target;if(!I(f)){s("숫자만 입력 가능합니다."),n({...t,[d]:!0});return}s(""),n({...t,[d]:!1}),p({...a,[d]:f})},i=e=>{const{name:d,value:f}=e.target;if(c("expirationDate",Object.values(a)),!g(f)){s("2자리 숫자를 입력해 주세요."),n({...t,[d]:!0});return}if(d==="month"&&!C(f)){s("1에서 12사이의 숫자를 입력해 주세요."),n({...t,[d]:!0});return}if(!o()){s("만료된 카드는 사용할 수 없습니다"),n({...t,[d]:!0});return}n({...t,[d]:!1}),s("")};return u.jsx(y,{title:"카드 유효기간을 입력해 주세요",description:"월/년도(MMYY)를 순서대로 입력해 주세요",labelText:"유효기간",errMsg:l,children:Object.keys(a).map(e=>u.jsx(x,{name:e,placeholder:e==="month"?"MM":"YY",value:a[e],isError:t[e],handleChange:r,handleOnBlur:i,maxLength:2},e))})};j.__docgenInfo={description:"",methods:[],displayName:"ExpirationDateInput",props:{setCardData:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: keyof CardInfo, newData: CardInfo[keyof CardInfo]) => void",signature:{arguments:[{type:{name:"CardInfo"},name:"key"},{type:{name:"CardInfo[CardInfo]",raw:"CardInfo[keyof CardInfo]"},name:"newData"}],return:{name:"void"}}},description:""}}};function k({setCardData:c}){const[a,p]=m.useState({ownerName:""}),[t,n]=m.useState({ownerName:!1}),[l,s]=m.useState(""),I=o=>/^[a-zA-Z]+$/.test(o),g=o=>{const{name:r,value:i}=o.target;if(i!==""&&!I(i)){s("알파벳만 입력 가능합니다."),n({...t,[r]:!0});return}s(""),n({...t,[r]:!1}),p({...a,[r]:i.toUpperCase()})},C=o=>{const{name:r,value:i}=o.target;p({...a,[r]:i.trim()}),c("ownerName",Object.values(a))};return u.jsx(y,{title:"카드 소유자 이름을 입력해 주세요",labelText:"소유자 이름",errMsg:l,children:Object.keys(a).map(o=>u.jsx(x,{name:o,placeholder:"JOHN DOE",value:a[o],isError:t[o],isRequired:!0,handleChange:g,handleOnBlur:C},o))})}k.__docgenInfo={description:"",methods:[],displayName:"OwnerNameInput",props:{setCardData:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: keyof CardInfo, newData: CardInfo[keyof CardInfo]) => void",signature:{arguments:[{type:{name:"CardInfo"},name:"key"},{type:{name:"CardInfo[CardInfo]",raw:"CardInfo[keyof CardInfo]"},name:"newData"}],return:{name:"void"}}},description:""}}};function v(){const[c,a]=m.useState({cardNumbers:["","","",""],expirationDate:["",""],ownerName:""}),p=(t,n)=>{a({...c,[t]:n})};return u.jsxs("div",{className:_.app,children:[u.jsx(E,{cardNumbers:c.cardNumbers,expirationDate:c.expirationDate,ownerName:c.ownerName}),u.jsxs("form",{children:[u.jsx(b,{setCardData:p}),u.jsx(j,{setCardData:p}),u.jsx(k,{setCardData:p})]})]})}v.__docgenInfo={description:"",methods:[],displayName:"App"};const A={title:"App",component:v},h={};var N,D,w;h.parameters={...h.parameters,docs:{...(N=h.parameters)==null?void 0:N.docs,source:{originalSource:"{}",...(w=(D=h.parameters)==null?void 0:D.docs)==null?void 0:w.source}}};const Y=["Default"];export{h as Default,Y as __namedExportsOrder,A as default};
